(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1198:function(e,t,n){"use strict";n.r(t);var r=n(25),o=(n(107),n(138),n(1200)),c=n.n(o),l=n(1221),d={props:{userMessage:{type:String,default:"null"}},data:function(){return{walletAddress:"",status:"",web3:null,MetaMaskId:"1",netID:"1",MetaMaskAddress:"",Web3Interval:null,AccountInterval:null,NetworkInterval:null,stateLog:null,isComplete:!1,type:"INIT",MetamaskMsg:{LOAD_MATAMASK_WALLET_ERROR:"Loading metamask error, please try later",EMPTY_METAMASK_ACCOUNT:"Please log in to your metamask to continue with this app.",NETWORK_ERROR:"The connection is abnormal, please try again",METAMASK_NOT_INSTALL:"Please install metamask for this application",METAMASK_TEST_NET:"Currently not in the main network.",METAMASK_MAIN_NET:"Currently Main network",USER_DENIED_ACCOUNT_AUTHORIZATION:"User denied account authorization"}}},methods:{checkWeb3:function(){void 0===window.web3&&(this.web3=null,this.Log(this.MetamaskMsg.METAMASK_NOT_INSTALL,"NO_INSTALL_METAMASK"))},checkAccounts:function(){var e=this;null!==this.web3&&this.web3.eth.getAccounts((function(t,n){return console.log(),null!=t?e.Log(e.MetamaskMsg.NETWORK_ERROR,"NETWORK_ERROR"):0===n.length?(e.MetaMaskAddress="",void e.Log(e.MetamaskMsg.EMPTY_METAMASK_ACCOUNT,"NO_LOGIN")):void(e.MetaMaskAddress=n[0])}))},Log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;if(n!==this.type){var r="null"===this.userMessage?e:this.userMessage;this.type=t,this.$emit("onComplete",{web3:this.web3,type:t,metaMaskAddress:this.MetaMaskAddress,message:r,netID:this.netID})}},web3TimerCheck:function(e){var t=this;this.web3=e,this.checkAccounts(),this.checkNetWork(),this.Web3Interval=setInterval((function(){return t.checkWeb3()}),1e3),this.AccountInterval=setInterval((function(){return t.checkAccounts()}),1e3),this.NetworkInterval=setInterval((function(){return t.checkNetWork()}),1e3)},displayAddress:function(e){return e.length>0?"Connected: "+String(e).substring(0,6)+"..."+String(e).substring(38):"Connect Wallet"},addWalletListener:function(){var e=this;window.ethereum?window.ethereum.on("accountsChanged",(function(t){t.length>0?e.walletAddress=t[0]:e.walletAddress=""})):this.status="You must install Metamask, a virtual Ethereum wallet, in your browser"},connectWalletPressed:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)();case 2:n=t.sent,e.walletAddress=n.address;case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,address,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.b)();case 2:if(n=t.sent,address=n.address,r=n.status,e.walletAddress=address,e.status=r,e.addWalletListener(),!window.ethereum){t.next=22;break}return o=window.ethereum,window.web3=new c.a(o),t.prev=11,t.next=14,o.enable();case 14:e.web3TimerCheck(window.web3),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(11),e.Log(e.MetamaskMsg.USER_DENIED_ACCOUNT_AUTHORIZATION,"USER_DENIED_ACCOUNT_AUTHORIZATION");case 20:t.next=23;break;case 22:window.web3?(window.web3=new c.a(window.web3.currentProvider),e.web3TimerCheck(window.web3)):(e.web3=null,e.Log(e.MetamaskMsg.METAMASK_NOT_INSTALL,"NO_INSTALL_METAMASK"),console.error("Non-Ethereum browser detected. You should consider trying MetaMask!"));case 23:case"end":return t.stop()}}),t,null,[[11,17]])})))()}},w=d,h=(n(1290),n(81)),component=Object(h.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"metamask-info"},[n("button",{on:{click:e.connectWalletPressed}},[e._v(e._s(e.displayAddress(e.walletAddress)))])])}),[],!1,null,"6b2d383c",null);t.default=component.exports},1221:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(25),o=(n(107),n(1200)),c=n.n(o),l=(n(1181),new c.a(window.ethereum),function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=14;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,n={status:"",address:t[0]},e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"ðŸ˜¥ "+e.t0.message});case 12:e.next=15;break;case 14:return e.abrupt("return",{address:"",status:"You must install Metamask, a virtual Ethereum wallet, in your browser"});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()),d=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=17;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_accounts"});case 4:if(!((t=e.sent).length>0)){e.next=9;break}return e.abrupt("return",{address:t[0],status:"."});case 9:return e.abrupt("return",{address:"",status:"ðŸ¦Š Connect to Metamask using the top right button."});case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"ðŸ˜¥ "+e.t0.message});case 15:e.next=18;break;case 17:return e.abrupt("return",{address:"",status:"You must install Metamask, a virtual Ethereum wallet, in your browser"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},1222:function(e,t,n){var content=n(1291);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(137).default)("2057b422",content,!0,{sourceMap:!1})},1240:function(e,t){},1241:function(e,t){},1244:function(e,t){},1245:function(e,t){},1248:function(e,t){},1249:function(e,t){},1252:function(e,t){},1253:function(e,t){},1260:function(e,t){},1261:function(e,t){},1263:function(e,t){},1265:function(e,t){},1266:function(e,t){},1269:function(e,t){},1270:function(e,t){},1272:function(e,t){},1277:function(e,t){},1279:function(e,t){},1280:function(e,t){},1282:function(e,t){},1284:function(e,t){},1285:function(e,t){},1290:function(e,t,n){"use strict";n(1222)},1291:function(e,t,n){var r=n(136)(!1);r.push([e.i,"#vue-metamask[data-v-6b2d383c]{position:fixed;top:0;left:0;width:0;height:0}",""]),e.exports=r}}]);